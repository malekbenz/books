!function(){"use strict";angular.module("app",["ngRoute","ngStorage"])}(),function(){"use strict";function t(t){t.when("/book/:id",{templateUrl:"views/book.html",controller:"controller.book",controllerAs:"vm"}).when("/:query/:page",{templateUrl:"views/main.html",controller:"controller.main as vm",controllerAs:"vm"}).when("/:query",{templateUrl:"views/main.html",controller:"controller.main as vm",controllerAs:"vm"}).when("/",{templateUrl:"views/main.html",controller:"controller.main as vm",controllerAs:"vm"}).otherwise({redirectTo:"/"})}angular.module("app").config(t),t.$inject=["$routeProvider"]}(),function(){function t(t){function e(e){var i=s+"/book/"+e;return t.get(i).then(o).catch(n)}function i(e,i){var r=s+"search/"+e+"/page/"+(i||1);return t.get(r).then(o).catch(n)}function o(t){return t.data}function n(t){logger.error("XHR Failed for getAvengers."+t.data)}var s="http://it-ebooks-api.info/v1/";return{getBooks:i,getBook:e}}angular.module("app").factory("dataservice",t),t.$inject=["$http"]}(),function(){"use strict";function t(t){console.log(t)}angular.module("app").factory("storage",t),t.$inject=["$localStorage"]}(),function(){"use strict";function t(){}angular.module("app").factory("logger",t)}(),function(){"use strict";function t(){}angular.module("app").component("component.books",{templateUrl:"views/component.books.html",controller:t,controllerAs:"vm",bindings:{books:"<",pages:"<"}})}(),function(){"use strict";function t(){this.getpages=function(t,e){var i=[],o=10+10*Math.floor(t/10);o=o<e?o:e;var n=10*Math.floor(t/10);n=n>0?n-1:1;for(var s=n;s<=o;s++)i.push(s<10?"0"+s:s);return i}}angular.module("app").component("component.pagination",{restrict:"E",templateUrl:"views/component.pagination.html",controller:t,controllerAs:"vm",bindings:{total:"<",current:"<",query:"<"}})}(),function(){"use strict";function t(t,e){var i=this;t.getBook(e.id).then(function(t){i.book=t},function(t){console.log(t)})}angular.module("app").controller("controller.book",t),t.$inject=["dataservice","$routeParams"]}(),function(){"use strict";function t(t,e,i,o){function n(){i.path("/"+l.pages.query)}function s(){l.books=[],l.pages.total=0,l.pages.current=e.page||1,l.pages.activePages=[],l.pages.query=e.query||"javascript",t.getBooks(l.pages.query,l.pages.current).then(r,a)}function r(t){l.books=t.Books,l.pages.total=Math.floor(t.Total/10)+1,l.pages.current=t.Page,l.pages.time=t.Time||0}function a(t){console.log(t)}var l=this;console.log(o),l.pages={},l.search=n,s(),l.tables=["1","2","3","4","5","6","7","8","9","10"]}angular.module("app").controller("controller.main",t),t.$inject=["dataservice","$routeParams","$location","$localStorage"]}(),function(t,e,i){"use strict";var o,n=t.document,s=t.Modernizr,r=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},a="Moz Webkit O Ms".split(" "),l=function(t){var e,i=n.documentElement.style;if("string"==typeof i[t])return t;t=r(t);for(var o=0,s=a.length;o<s;o++)if(e=a[o]+t,"string"==typeof i[e])return e},h=l("transform"),c=l("transitionProperty"),u={csstransforms:function(){return!!h},csstransforms3d:function(){var t=!!l("perspective");if(t){var i=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),o="@media ("+i.join("transform-3d),(")+"modernizr)",n=e("<style>"+o+"{#modernizr{height:3px}}</style>").appendTo("head"),s=e('<div id="modernizr" />').appendTo("html");t=3===s.height(),s.remove(),n.remove()}return t},csstransitions:function(){return!!c}};if(s)for(o in u)s.hasOwnProperty(o)||s.addTest(o,u[o]);else{s=t.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var d,f=" ";for(o in u)d=u[o](),s[o]=d,f+=" "+(d?"":"no-")+o;e("html").addClass(f)}if(s.csstransforms){var p=s.csstransforms3d?{translate:function(t){return"translate3d("+t[0]+"px, "+t[1]+"px, 0) "},scale:function(t){return"scale3d("+t+", "+t+", 1) "}}:{translate:function(t){return"translate("+t[0]+"px, "+t[1]+"px) "},scale:function(t){return"scale("+t+") "}},m=function(t,i,o){var n,s,r=e.data(t,"isoTransform")||{},a={},l={};a[i]=o,e.extend(r,a);for(n in r)s=r[n],l[n]=p[n](s);var c=l.translate||"",u=l.scale||"",d=c+u;e.data(t,"isoTransform",r),t.style[h]=d};e.cssNumber.scale=!0,e.cssHooks.scale={set:function(t,e){m(t,"scale",e)},get:function(t,i){var o=e.data(t,"isoTransform");return o&&o.scale?o.scale:1}},e.fx.step.scale=function(t){e.cssHooks.scale.set(t.elem,t.now+t.unit)},e.cssNumber.translate=!0,e.cssHooks.translate={set:function(t,e){m(t,"translate",e)},get:function(t,i){var o=e.data(t,"isoTransform");return o&&o.translate?o.translate:[0,0]}}}var g,v;s.csstransitions&&(g={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd otransitionend",transitionProperty:"transitionend"}[c],v=l("transitionDuration"));var y,w=e.event,x=e.event.handle?"handle":"dispatch";w.special.smartresize={setup:function(){e(this).bind("resize",w.special.smartresize.handler)},teardown:function(){e(this).unbind("resize",w.special.smartresize.handler)},handler:function(t,e){var i=this,o=arguments;t.type="smartresize",y&&clearTimeout(y),y=setTimeout(function(){w[x].apply(i,o)},"execAsap"===e?0:100)}},e.fn.smartresize=function(t){return t?this.bind("smartresize",t):this.trigger("smartresize",["execAsap"])},e.Isotope=function(t,i,o){this.element=e(i),this._create(t),this._init(o)};var C=["width","height"],b=e(t);e.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1},e.Isotope.prototype={_create:function(t){this.options=e.extend({},e.Isotope.settings,t),this.styleQueue=[],this.elemCount=0;var i=this.element[0].style;this.originalStyle={};var o=C.slice(0);for(var n in this.options.containerStyle)o.push(n);for(var s=0,r=o.length;s<r;s++)n=o[s],this.originalStyle[n]=i[n]||"";this.element.css(this.options.containerStyle),this._updateAnimationEngine(),this._updateUsingTransforms();var a={"original-order":function(t,e){return e.elemCount++,e.elemCount},random:function(){return Math.random()}};this.options.getSortData=e.extend(this.options.getSortData,a),this.reloadItems(),this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var l=this;setTimeout(function(){l.element.addClass(l.options.containerClass)},0),this.options.resizable&&b.bind("smartresize.isotope",function(){l.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(t){var e=this.options.itemSelector,i=e?t.filter(e).add(t.find(e)):t,o={position:"absolute"};return i=i.filter(function(t,e){return 1===e.nodeType}),this.usingTransforms&&(o.left=0,o.top=0),i.css(o).addClass(this.options.itemClass),this.updateSortData(i,!0),i},_init:function(t){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(t)},option:function(t){if(e.isPlainObject(t)){this.options=e.extend(!0,this.options,t);var i;for(var o in t)i="_update"+r(o),this[i]&&this[i]()}},_updateAnimationEngine:function(){var t,e=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,"");switch(e){case"css":case"none":t=!1;break;case"jquery":t=!0;break;default:t=!s.csstransitions}this.isUsingJQueryAnimation=t,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var t=this.usingTransforms=this.options.transformsEnabled&&s.csstransforms&&s.csstransitions&&!this.isUsingJQueryAnimation;t||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=t?this._translate:this._positionAbs},_filter:function(t){var e=""===this.options.filter?"*":this.options.filter;if(!e)return t;var i=this.options.hiddenClass,o="."+i,n=t.filter(o),s=n;if("*"!==e){s=n.filter(e);var r=t.not(o).not(e).addClass(i);this.styleQueue.push({$el:r,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:s,style:this.options.visibleStyle}),s.removeClass(i),t.filter(e)},updateSortData:function(t,i){var o,n,s=this,r=this.options.getSortData;t.each(function(){o=e(this),n={};for(var t in r)i||"original-order"!==t?n[t]=r[t](o,s):n[t]=e.data(this,"isotope-sort-data")[t];e.data(this,"isotope-sort-data",n)})},_sort:function(){var t=this.options.sortBy,e=this._getSorter,i=this.options.sortAscending?1:-1,o=function(o,n){var s=e(o,t),r=e(n,t);return s===r&&"original-order"!==t&&(s=e(o,"original-order"),r=e(n,"original-order")),(s>r?1:s<r?-1:0)*i};this.$filteredAtoms.sort(o)},_getSorter:function(t,i){return e.data(t,"isotope-sort-data")[i]},_translate:function(t,e){return{translate:[t,e]}},_positionAbs:function(t,e){return{left:t,top:e}},_pushPosition:function(t,e,i){e=Math.round(e+this.offset.left),i=Math.round(i+this.offset.top);var o=this.getPositionStyles(e,i);this.styleQueue.push({$el:t,style:o}),this.options.itemPositionDataEnabled&&t.data("isotope-item-position",{x:e,y:i})},layout:function(t,e){var i=this.options.layoutMode;if(this["_"+i+"Layout"](t),this.options.resizesContainer){var o=this["_"+i+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:o})}this._processStyleQueue(t,e),this.isLaidOut=!0},_processStyleQueue:function(t,i){var o,n,r,a,l=this.isLaidOut&&this.isUsingJQueryAnimation?"animate":"css",h=this.options.animationOptions,c=this.options.onLayout;if(n=function(t,e){e.$el[l](e.style,h)},this._isInserting&&this.isUsingJQueryAnimation)n=function(t,e){o=e.$el.hasClass("no-transition")?"css":l,e.$el[o](e.style,h)};else if(i||c||h.complete){var u=!1,d=[i,c,h.complete],f=this;if(r=!0,a=function(){if(!u){for(var e,i=0,o=d.length;i<o;i++)e=d[i],"function"==typeof e&&e.call(f.element,t,f);u=!0}},this.isUsingJQueryAnimation&&"animate"===l)h.complete=a,r=!1;else if(s.csstransitions){for(var p,m=0,y=this.styleQueue[0],w=y&&y.$el;!w||!w.length;){if(p=this.styleQueue[m++],!p)return;w=p.$el}var x=parseFloat(getComputedStyle(w[0])[v]);x>0&&(n=function(t,e){e.$el[l](e.style,h).one(g,a)},r=!1)}}e.each(this.styleQueue,n),r&&a(),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(t){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,t)},addItems:function(t,e){var i=this._getAtoms(t);this.$allAtoms=this.$allAtoms.add(i),e&&e(i)},insert:function(t,e){this.element.append(t);var i=this;this.addItems(t,function(t){var o=i._filter(t);i._addHideAppended(o),i._sort(),i.reLayout(),i._revealAppended(o,e)})},appended:function(t,e){var i=this;this.addItems(t,function(t){i._addHideAppended(t),i.layout(t),i._revealAppended(t,e)})},_addHideAppended:function(t){this.$filteredAtoms=this.$filteredAtoms.add(t),t.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:t,style:this.options.hiddenStyle})},_revealAppended:function(t,e){var i=this;setTimeout(function(){t.removeClass("no-transition"),i.styleQueue.push({$el:t,style:i.options.visibleStyle}),i._isInserting=!1,i._processStyleQueue(t,e)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(t,e){this.$allAtoms=this.$allAtoms.not(t),this.$filteredAtoms=this.$filteredAtoms.not(t);var i=this,o=function(){t.remove(),e&&e.call(i.element)};t.filter(":not(."+this.options.hiddenClass+")").length?(this.styleQueue.push({$el:t,style:this.options.hiddenStyle}),this._sort(),this.reLayout(o)):o()},shuffle:function(t){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout(t)},destroy:function(){var t=this.usingTransforms,e=this.options;this.$allAtoms.removeClass(e.hiddenClass+" "+e.itemClass).each(function(){var e=this.style;e.position="",e.top="",e.left="",e.opacity="",t&&(e[h]="")});var i=this.element[0].style;for(var o in this.originalStyle)i[o]=this.originalStyle[o];this.element.unbind(".isotope").undelegate("."+e.hiddenClass,"click").removeClass(e.containerClass).removeData("isotope"),b.unbind(".isotope")},_getSegments:function(t){var e,i=this.options.layoutMode,o=t?"rowHeight":"columnWidth",n=t?"height":"width",s=t?"rows":"cols",a=this.element[n](),l=this.options[i]&&this.options[i][o]||this.$filteredAtoms["outer"+r(n)](!0)||a;e=Math.floor(a/l),e=Math.max(e,1),this[i][s]=e,this[i][o]=l},_checkIfSegmentsChanged:function(t){var e=this.options.layoutMode,i=t?"rows":"cols",o=this[e][i];return this._getSegments(t),this[e][i]!==o},_masonryReset:function(){this.masonry={},this._getSegments();var t=this.masonry.cols;for(this.masonry.colYs=[];t--;)this.masonry.colYs.push(0)},_masonryLayout:function(t){var i=this,o=i.masonry;t.each(function(){var t=e(this),n=Math.ceil(t.outerWidth(!0)/o.columnWidth);if(n=Math.min(n,o.cols),1===n)i._masonryPlaceBrick(t,o.colYs);else{var s,r,a=o.cols+1-n,l=[];for(r=0;r<a;r++)s=o.colYs.slice(r,r+n),l[r]=Math.max.apply(Math,s);i._masonryPlaceBrick(t,l)}})},_masonryPlaceBrick:function(t,e){for(var i=Math.min.apply(Math,e),o=0,n=0,s=e.length;n<s;n++)if(e[n]===i){o=n;break}var r=this.masonry.columnWidth*o,a=i;this._pushPosition(t,r,a);var l=i+t.outerHeight(!0),h=this.masonry.cols+1-s;for(n=0;n<h;n++)this.masonry.colYs[o+n]=l},_masonryGetContainerSize:function(){var t=Math.max.apply(Math,this.masonry.colYs);return{height:t}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(t){var i=this,o=this.element.width(),n=this.fitRows;t.each(function(){var t=e(this),s=t.outerWidth(!0),r=t.outerHeight(!0);0!==n.x&&s+n.x>o&&(n.x=0,n.y=n.height),i._pushPosition(t,n.x,n.y),n.height=Math.max(n.y+r,n.height),n.x+=s})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(t){var i=this,o=this.cellsByRow;t.each(function(){var t=e(this),n=o.index%o.cols,s=Math.floor(o.index/o.cols),r=(n+.5)*o.columnWidth-t.outerWidth(!0)/2,a=(s+.5)*o.rowHeight-t.outerHeight(!0)/2;i._pushPosition(t,r,a),o.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(t){var i=this;t.each(function(t){var o=e(this);i._pushPosition(o,0,i.straightDown.y),i.straightDown.y+=o.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var t=this.masonryHorizontal.rows;for(this.masonryHorizontal.rowXs=[];t--;)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(t){var i=this,o=i.masonryHorizontal;t.each(function(){var t=e(this),n=Math.ceil(t.outerHeight(!0)/o.rowHeight);if(n=Math.min(n,o.rows),1===n)i._masonryHorizontalPlaceBrick(t,o.rowXs);else{var s,r,a=o.rows+1-n,l=[];for(r=0;r<a;r++)s=o.rowXs.slice(r,r+n),l[r]=Math.max.apply(Math,s);i._masonryHorizontalPlaceBrick(t,l)}})},_masonryHorizontalPlaceBrick:function(t,e){for(var i=Math.min.apply(Math,e),o=0,n=0,s=e.length;n<s;n++)if(e[n]===i){o=n;break}var r=i,a=this.masonryHorizontal.rowHeight*o;this._pushPosition(t,r,a);var l=i+t.outerWidth(!0),h=this.masonryHorizontal.rows+1-s;for(n=0;n<h;n++)this.masonryHorizontal.rowXs[o+n]=l},_masonryHorizontalGetContainerSize:function(){var t=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:t}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(t){var i=this,o=this.element.height(),n=this.fitColumns;t.each(function(){var t=e(this),s=t.outerWidth(!0),r=t.outerHeight(!0);0!==n.y&&r+n.y>o&&(n.x=n.width,n.y=0),i._pushPosition(t,n.x,n.y),n.width=Math.max(n.x+s,n.width),n.y+=r})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(t){var i=this,o=this.cellsByColumn;t.each(function(){var t=e(this),n=Math.floor(o.index/o.rows),s=o.index%o.rows,r=(n+.5)*o.columnWidth-t.outerWidth(!0)/2,a=(s+.5)*o.rowHeight-t.outerHeight(!0)/2;i._pushPosition(t,r,a),o.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(t){var i=this;t.each(function(t){var o=e(this);i._pushPosition(o,i.straightAcross.x,0),i.straightAcross.x+=o.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},e.fn.imagesLoaded=function(t){function i(){t.call(n,s)}function o(t){var n=t.target;n.src!==a&&e.inArray(n,l)===-1&&(l.push(n),--r<=0&&(setTimeout(i),s.unbind(".imagesLoaded",o)))}var n=this,s=n.find("img").add(n.filter("img")),r=s.length,a="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",l=[];return r||i(),s.bind("load.imagesLoaded error.imagesLoaded",o).each(function(){var t=this.src;this.src=a,this.src=t}),n};var _=function(e){t.console&&t.console.error(e)};e.fn.isotope=function(t,i){if("string"==typeof t){var o=Array.prototype.slice.call(arguments,1);this.each(function(){var i=e.data(this,"isotope");return i?e.isFunction(i[t])&&"_"!==t.charAt(0)?void i[t].apply(i,o):void _("no such method '"+t+"' for isotope instance"):void _("cannot call methods on isotope prior to initialization; attempted to call method '"+t+"'")})}else this.each(function(){var o=e.data(this,"isotope");o?(o.option(t),o._init(i)):e.data(this,"isotope",new e.Isotope(t,this,i))});return this}}(window,jQuery),function(t,e,i){function o(i,o,n){var s=e.createElement(i);return o&&(s.id=Z+o),n&&(s.style.cssText=n),t(s)}function n(){return i.innerHeight?i.innerHeight:t(i).height()}function s(t){var e=$.length,i=(j+t)%e;return i<0?e+i:i}function r(t,e){return Math.round((/%/.test(t)?("x"===e?A.width():n())/100:1)*parseInt(t,10))}function a(t,e){return t.photo||t.photoRegex.test(e)}function l(t,e){return t.retinaUrl&&i.devicePixelRatio>1?e.replace(t.photoRegex,t.retinaSuffix):e}function h(t){"contains"in v[0]&&!v[0].contains(t.target)&&(t.stopPropagation(),v.focus())}function c(){var e,i=t.data(F,V);null==i?(I=t.extend({},J),console&&console.log&&console.log("Error: cboxElement missing settings object")):I=t.extend({},i);for(e in I)t.isFunction(I[e])&&"on"!==e.slice(0,2)&&(I[e]=I[e].call(F));I.rel=I.rel||F.rel||t(F).data("rel")||"nofollow",I.href=I.href||t(F).attr("href"),I.title=I.title||F.title,"string"==typeof I.href&&(I.href=t.trim(I.href))}function u(i,o){t(e).trigger(i),at.triggerHandler(i),t.isFunction(o)&&o.call(F)}function d(i){N||(F=i,c(),$=t(F),j=0,"nofollow"!==I.rel&&($=t("."+tt).filter(function(){var e,i=t.data(this,V);return i&&(e=t(this).data("rel")||i.rel||this.rel),e===I.rel}),j=$.index(F),j===-1&&($=$.add(F),j=$.length-1)),g.css({opacity:parseFloat(I.opacity),cursor:I.overlayClose?"pointer":"auto",visibility:"visible"}).show(),X&&v.add(g).removeClass(X),I.className&&v.add(g).addClass(I.className),X=I.className,I.closeButton?P.html(I.close).appendTo(w):P.appendTo("<div/>"),O||(O=q=!0,v.css({visibility:"hidden",display:"block"}),S=o(lt,"LoadedContent","width:0; height:0; overflow:hidden"),w.css({width:"",height:""}).append(S),E=x.height()+_.height()+w.outerHeight(!0)-w.height(),D=C.width()+b.width()+w.outerWidth(!0)-w.width(),W=S.outerHeight(!0),Q=S.outerWidth(!0),I.w=r(I.initialWidth,"x"),I.h=r(I.initialHeight,"y"),S.css({width:"",height:I.h}),K.position(),u(et,I.onOpen),B.add(z).hide(),v.focus(),I.trapFocus&&e.addEventListener&&(e.addEventListener("focus",h,!0),at.one(st,function(){e.removeEventListener("focus",h,!0)})),I.returnFocus&&at.one(st,function(){t(F).focus()})),m())}function f(){!v&&e.body&&(Y=!1,A=t(i),v=o(lt).attr({id:V,class:t.support.opacity===!1?Z+"IE":"",role:"dialog",tabindex:"-1"}).hide(),g=o(lt,"Overlay").hide(),T=t([o(lt,"LoadingOverlay")[0],o(lt,"LoadingGraphic")[0]]),y=o(lt,"Wrapper"),w=o(lt,"Content").append(z=o(lt,"Title"),H=o(lt,"Current"),R=t('<button type="button"/>').attr({id:Z+"Previous"}),L=t('<button type="button"/>').attr({id:Z+"Next"}),M=o("button","Slideshow"),T),P=t('<button type="button"/>').attr({id:Z+"Close"}),y.append(o(lt).append(o(lt,"TopLeft"),x=o(lt,"TopCenter"),o(lt,"TopRight")),o(lt,!1,"clear:left").append(C=o(lt,"MiddleLeft"),w,b=o(lt,"MiddleRight")),o(lt,!1,"clear:left").append(o(lt,"BottomLeft"),_=o(lt,"BottomCenter"),o(lt,"BottomRight"))).find("div div").css({float:"left"}),k=o(lt,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),B=L.add(R).add(H).add(M),t(e.body).append(g,v.append(y,k)))}function p(){function i(t){t.which>1||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),d(this))}return!!v&&(Y||(Y=!0,L.click(function(){K.next()}),R.click(function(){K.prev()}),P.click(function(){K.close()}),g.click(function(){I.overlayClose&&K.close()}),t(e).bind("keydown."+Z,function(t){var e=t.keyCode;O&&I.escKey&&27===e&&(t.preventDefault(),K.close()),O&&I.arrowKey&&$[1]&&!t.altKey&&(37===e?(t.preventDefault(),R.click()):39===e&&(t.preventDefault(),L.click()))}),t.isFunction(t.fn.on)?t(e).on("click."+Z,"."+tt,i):t("."+tt).live("click."+Z,i)),!0)}function m(){var n,s,h,d=K.prep,f=++ht;q=!0,U=!1,F=$[j],c(),u(rt),u(it,I.onLoad),I.h=I.height?r(I.height,"y")-W-E:I.innerHeight&&r(I.innerHeight,"y"),I.w=I.width?r(I.width,"x")-Q-D:I.innerWidth&&r(I.innerWidth,"x"),I.mw=I.w,I.mh=I.h,I.maxWidth&&(I.mw=r(I.maxWidth,"x")-Q-D,I.mw=I.w&&I.w<I.mw?I.w:I.mw),I.maxHeight&&(I.mh=r(I.maxHeight,"y")-W-E,I.mh=I.h&&I.h<I.mh?I.h:I.mh),n=I.href,G=setTimeout(function(){T.show()},100),I.inline?(h=o(lt).hide().insertBefore(t(n)[0]),at.one(rt,function(){h.replaceWith(S.children())}),d(t(n))):I.iframe?d(" "):I.html?d(I.html):a(I,n)?(n=l(I,n),U=e.createElement("img"),t(U).addClass(Z+"Photo").bind("error",function(){I.title=!1,d(o(lt,"Error").html(I.imgError))}).one("load",function(){var e;f===ht&&(t.each(["alt","longdesc","aria-describedby"],function(e,i){var o=t(F).attr(i)||t(F).attr("data-"+i);o&&U.setAttribute(i,o)}),I.retinaImage&&i.devicePixelRatio>1&&(U.height=U.height/i.devicePixelRatio,U.width=U.width/i.devicePixelRatio),I.scalePhotos&&(s=function(){U.height-=U.height*e,U.width-=U.width*e},I.mw&&U.width>I.mw&&(e=(U.width-I.mw)/U.width,s()),I.mh&&U.height>I.mh&&(e=(U.height-I.mh)/U.height,s())),I.h&&(U.style.marginTop=Math.max(I.mh-U.height,0)/2+"px"),$[1]&&(I.loop||$[j+1])&&(U.style.cursor="pointer",U.onclick=function(){K.next()}),U.style.width=U.width+"px",U.style.height=U.height+"px",setTimeout(function(){d(U)},1))}),setTimeout(function(){U.src=n},1)):n&&k.load(n,I.data,function(e,i){f===ht&&d("error"===i?o(lt,"Error").html(I.xhrError):t(this).contents())})}var g,v,y,w,x,C,b,_,$,A,S,k,T,z,H,M,L,R,P,B,I,E,D,W,Q,F,j,U,O,q,N,G,K,X,Y,J={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1},V="colorbox",Z="cbox",tt=Z+"Element",et=Z+"_open",it=Z+"_load",ot=Z+"_complete",nt=Z+"_cleanup",st=Z+"_closed",rt=Z+"_purge",at=t("<a/>"),lt="div",ht=0,ct={},ut=function(){function t(){clearTimeout(r)}function e(){(I.loop||$[j+1])&&(t(),r=setTimeout(K.next,I.slideshowSpeed))}function i(){M.html(I.slideshowStop).unbind(l).one(l,o),at.bind(ot,e).bind(it,t),v.removeClass(a+"off").addClass(a+"on")}function o(){t(),at.unbind(ot,e).unbind(it,t),M.html(I.slideshowStart).unbind(l).one(l,function(){K.next(),i()}),v.removeClass(a+"on").addClass(a+"off")}function n(){s=!1,M.hide(),t(),at.unbind(ot,e).unbind(it,t),v.removeClass(a+"off "+a+"on")}var s,r,a=Z+"Slideshow_",l="click."+Z;return function(){s?I.slideshow||(at.unbind(nt,n),n()):I.slideshow&&$[1]&&(s=!0,at.one(nt,n),I.slideshowAuto?i():o(),M.show())}}();t.colorbox||(t(f),K=t.fn[V]=t[V]=function(e,i){var o=this;if(e=e||{},f(),p()){if(t.isFunction(o))o=t("<a/>"),e.open=!0;else if(!o[0])return o;i&&(e.onComplete=i),o.each(function(){t.data(this,V,t.extend({},t.data(this,V)||J,e))}).addClass(tt),(t.isFunction(e.open)&&e.open.call(o)||e.open)&&d(o[0])}return o},K.position=function(e,i){function o(){x[0].style.width=_[0].style.width=w[0].style.width=parseInt(v[0].style.width,10)-D+"px",w[0].style.height=C[0].style.height=b[0].style.height=parseInt(v[0].style.height,10)-E+"px"}var s,a,l,h=0,c=0,u=v.offset();if(A.unbind("resize."+Z),v.css({top:-9e4,left:-9e4}),a=A.scrollTop(),l=A.scrollLeft(),I.fixed?(u.top-=a,u.left-=l,v.css({position:"fixed"})):(h=a,c=l,v.css({position:"absolute"})),c+=I.right!==!1?Math.max(A.width()-I.w-Q-D-r(I.right,"x"),0):I.left!==!1?r(I.left,"x"):Math.round(Math.max(A.width()-I.w-Q-D,0)/2),h+=I.bottom!==!1?Math.max(n()-I.h-W-E-r(I.bottom,"y"),0):I.top!==!1?r(I.top,"y"):Math.round(Math.max(n()-I.h-W-E,0)/2),v.css({top:u.top,left:u.left,visibility:"visible"}),y[0].style.width=y[0].style.height="9999px",s={width:I.w+Q+D,height:I.h+W+E,top:h,left:c},e){var d=0;t.each(s,function(t){if(s[t]!==ct[t])return void(d=e)}),e=d}ct=s,e||v.css(s),v.dequeue().animate(s,{duration:e||0,complete:function(){o(),q=!1,y[0].style.width=I.w+Q+D+"px",y[0].style.height=I.h+W+E+"px",I.reposition&&setTimeout(function(){A.bind("resize."+Z,K.position)},1),i&&i()},step:o})},K.resize=function(t){var e;O&&(t=t||{},t.width&&(I.w=r(t.width,"x")-Q-D),t.innerWidth&&(I.w=r(t.innerWidth,"x")),S.css({width:I.w}),t.height&&(I.h=r(t.height,"y")-W-E),t.innerHeight&&(I.h=r(t.innerHeight,"y")),t.innerHeight||t.height||(e=S.scrollTop(),S.css({height:"auto"}),I.h=S.height()),S.css({height:I.h}),e&&S.scrollTop(e),K.position("none"===I.transition?0:I.speed))},K.prep=function(i){function n(){return I.w=I.w||S.width(),I.w=I.mw&&I.mw<I.w?I.mw:I.w,I.w}function r(){return I.h=I.h||S.height(),I.h=I.mh&&I.mh<I.h?I.mh:I.h,I.h}if(O){var h,c="none"===I.transition?0:I.speed;S.empty().remove(),S=o(lt,"LoadedContent").append(i),S.hide().appendTo(k.show()).css({width:n(),overflow:I.scrolling?"auto":"hidden"}).css({height:r()}).prependTo(w),k.hide(),t(U).css({float:"none"}),h=function(){function i(){t.support.opacity===!1&&v[0].style.removeAttribute("filter")}var n,r,h=$.length,d="frameBorder",f="allowTransparency";O&&(r=function(){clearTimeout(G),T.hide(),u(ot,I.onComplete)},z.html(I.title).add(S).show(),h>1?("string"==typeof I.current&&H.html(I.current.replace("{current}",j+1).replace("{total}",h)).show(),L[I.loop||j<h-1?"show":"hide"]().html(I.next),R[I.loop||j?"show":"hide"]().html(I.previous),ut(),I.preloading&&t.each([s(-1),s(1)],function(){var i,o,n=$[this],s=t.data(n,V);s&&s.href?(i=s.href,t.isFunction(i)&&(i=i.call(n))):i=t(n).attr("href"),i&&a(s,i)&&(i=l(s,i),o=e.createElement("img"),o.src=i)})):B.hide(),I.iframe?(n=o("iframe")[0],d in n&&(n[d]=0),f in n&&(n[f]="true"),I.scrolling||(n.scrolling="no"),t(n).attr({src:I.href,name:(new Date).getTime(),class:Z+"Iframe",allowFullScreen:!0,webkitAllowFullScreen:!0,mozallowfullscreen:!0}).one("load",r).appendTo(S),at.one(rt,function(){n.src="//about:blank"}),I.fastIframe&&t(n).trigger("load")):r(),"fade"===I.transition?v.fadeTo(c,1,i):i())},"fade"===I.transition?v.fadeTo(c,0,function(){K.position(0,h)}):K.position(c,h)}},K.next=function(){!q&&$[1]&&(I.loop||$[j+1])&&(j=s(1),d($[j]))},K.prev=function(){!q&&$[1]&&(I.loop||j)&&(j=s(-1),d($[j]))},K.close=function(){O&&!N&&(N=!0,O=!1,u(nt,I.onCleanup),A.unbind("."+Z),g.fadeTo(I.fadeOut||0,0),v.stop().fadeTo(I.fadeOut||0,0,function(){v.add(g).css({opacity:1,cursor:"auto"}).hide(),u(rt),S.empty().remove(),setTimeout(function(){N=!1,u(st,I.onClosed)},1)}))},K.remove=function(){v&&(v.stop(),t.colorbox.close(),v.stop().remove(),g.remove(),N=!1,v=null,t("."+tt).removeData(V).removeClass(tt),t(e).unbind("click."+Z))},K.element=function(){return t(F)},K.settings=J)}(jQuery,document,window),function(t,e,i,o){function n(o,n){function s(){p.elem.children().css("margin",0).children().css("margin",0),p.elem.css({position:"relative",height:p.opts.height,overflow:"hidden"}),p.targ.css({position:"absolute",margin:0}),setInterval(function(){f()},100)}function a(){p.timer=setInterval(function(){1==p.winFocus&&h(p.opts.direction)},p.opts.interval),t(p.opts.controls.toggle).addClass("et-run").html(p.opts.controls.stopText)}function l(){clearInterval(p.timer),p.timer=0,t(p.opts.controls.toggle).removeClass("et-run").html(p.opts.controls.playText)}function h(t){var e,i,o;if(p.elem.is(":visible")){"up"==t?(e=":first-child",i="-=",o="appendTo"):(e=":last-child",i="+=",o="prependTo");var n=p.targ.children(e),s=n.outerHeight();p.targ.stop(!0,!0).animate({top:i+s+"px"},p.opts.speed,p.opts.easing,function(){n.hide()[o](p.targ).fadeIn(),p.targ.css("top",0),f()})}}function c(t){l(),h("up"==t?"up":"down")}function u(){var e=0,i=p.elem.css("display");p.elem.css("display","block"),p.targ.children().each(function(){e+=t(this).outerHeight()}),p.elem.css({display:i,height:e})}function d(e){var i=0;p.targ.children(":lt("+p.opts.visible+")").each(function(){i+=t(this).outerHeight()}),1==e?p.elem.stop(!0,!0).animate({height:i},p.opts.speed):p.elem.css("height",i)}function f(){"auto"==p.opts.height&&0!=p.opts.visible?(anim="init"==arguments.callee.caller.name?0:1,d(anim)):"auto"==p.opts.height&&u()}var p=this;return p.opts=t.extend({},r,n),p.elem=t(o),p.targ=t(o).children(":first-child"),p.timer=0,p.mHover=0,p.winFocus=1,s(),a(),t([e,i]).off("focus.jqet").on("focus.jqet",function(){p.winFocus=1}).off("blur.jqet").on("blur.jqet",function(){p.winFocus=0}),1==p.opts.mousePause&&p.elem.mouseenter(function(){p.timerTemp=p.timer,l()}).mouseleave(function(){0!==p.timerTemp&&a()}),t(p.opts.controls.up).on("click",function(t){t.preventDefault(),c("up")}),t(p.opts.controls.down).on("click",function(t){t.preventDefault(),c("down")}),t(p.opts.controls.toggle).on("click",function(t){t.preventDefault(),0==p.timer?a():l()}),{up:function(){c("up")},down:function(){c("down")},start:a,stop:l,options:p.opts}}var s="easyTicker",r={direction:"up",easing:"swing",speed:"slow",interval:2e3,height:"auto",visible:0,mousePause:1,controls:{up:"",down:"",toggle:"",playText:"Play",stopText:"Stop"}};t.fn[s]=function(e){return this.each(function(){t.data(this,s)||t.data(this,s,new n(this,e))})}}(jQuery,window,document),function(){$.fn.smint=function(t){var e=$.extend({scrollSpeed:500,mySelector:"div"},t);$(this).addClass("smint");var i=new Array,o=0,n=$(".smint").height(),s=$(".smint"),r=$(".smint a"),a=s.height();if(e.scrollSpeed)var l=e.scrollSpeed;if(e.mySelector)var h=e.mySelector;return r.each(function(t){var e=$(this).attr("href").split("#")[1];$(this).hasClass("extLink")||$(this).attr("id",e),
i.push(Array($(h+"."+e).position().top-n,$(h+"."+e).height()+$(h+"."+e).position().top,e));var c=s.offset().top,u=function(o){var r=$(window).scrollTop()+a;r>c+a?(s.css({position:"fixed",top:0,left:0}).addClass("fxd"),$("body").css("padding-top",n)):(s.css("position","relative").removeClass("fxd"),$("body").css("padding-top","0")),i[t][0]<=r&&r<=i[t][1]&&("up"==o?($("#"+e).addClass("active"),$("#"+i[t+1][2]).removeClass("active")):t>0?($("#"+e).addClass("active"),$("#"+i[t-1][2]).removeClass("active")):void 0==o&&$("#"+e).addClass("active"),$.each(i,function(t){e!=i[t][2]&&$("#"+i[t][2]).removeClass("active")}))};u(),$(window).scroll(function(){var t=$(this).scrollTop()+a;t>o?direction="down":t<o&&(direction="up"),o=t,u(direction),$(window).scrollTop()+$(window).height()==$(document).height()?(r.removeClass("active"),$(".smint a:not('.extLink'):last").addClass("active")):r.last().removeClass("active")}),$(this).on("click",function(t){var e=s.height();t.preventDefault();var i=$(this).attr("href").split("#")[1],o=$(h+"."+i).offset().top-e;if($("html, body").stop().animate({scrollTop:o},l),$(this).hasClass("extLink"))return!1}),$(".intLink").on("click",function(t){var e=s.height();t.preventDefault();var i=$(this).attr("href").split("#")[1];if(s.hasClass("fxd"))var o=$(h+"."+i).position().top-e;else var o=$(h+"."+i).position().top-2*e;if($("html, body").stop().animate({scrollTop:o},l),$(this).hasClass("extLink"))return!1})})},$.fn.smint.defaults={scrollSpeed:500,mySelector:"div"}}(jQuery),function(){$('a[href="#search"]').on("click",function(t){t.preventDefault(),$("#search").addClass("open"),$('#search > form > input[type="search"]').focus()}),$("#search, #search button.close").on("click keyup",function(t){t.target!=this&&"close"!=t.target.className&&27!=t.keyCode||$(this).removeClass("open")})}(),function(t){function e(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}function i(t,e){var i=o(t,e)?s:n;i(t,e)}if(Modernizr.touch){var o,n,s;"classList"in document.documentElement?(o=function(t,e){return t.classList.contains(e)},n=function(t,e){t.classList.add(e)},s=function(t,e){t.classList.remove(e)}):(o=function(t,i){return e(i).test(t.className)},n=function(t,e){o(t,e)||(t.className=t.className+" "+e)},s=function(t,i){t.className=t.className.replace(e(i)," ")});var r={hasClass:o,addClass:n,removeClass:s,toggleClass:i,has:o,add:n,remove:s,toggle:i};"function"==typeof define&&define.amd?define(r):t.classie=r,[].slice.call(document.querySelectorAll("ul.grid > li > figure")).forEach(function(t,e){t.querySelector("figcaption > a").addEventListener("touchstart",function(t){t.stopPropagation()},!1),t.addEventListener("touchstart",function(t){r.toggle(this,"cs-hover")},!1)})}}(window);