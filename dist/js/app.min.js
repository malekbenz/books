!function(){"use strict";angular.module("app",["ngRoute"])}(),function(){"use strict";function o(o){o.when("/book/:id",{templateUrl:"views/book.html",controller:"controller.book",controllerAs:"vm"}).when("/:title/:page",{templateUrl:"views/main.html",controller:"controller.main as vm",controllerAs:"vm"}).when("/",{templateUrl:"views/main.html",controller:"controller.main as vm",controllerAs:"vm"}).otherwise({redirectTo:"/"})}angular.module("app").config(o),o.$inject=["$routeProvider"]}(),function(){function o(o){function t(t,e){var l=a+t+"/page/"+e;return console.log("title",t),console.log("page",e),o.get(l).then(n).catch(r)}function e(t){var e=a+t;return console.log("title",t),o.get(e).then(n).catch(r)}function n(o){return o.data}function r(o){logger.error("XHR Failed for getAvengers."+o.data)}var a="http://it-ebooks-api.info/v1/search/";return{getBooks:e,getBooksByPage:t}}angular.module("app").factory("dataservice",o),o.$inject=["$http"]}(),function(){"use strict";function o(){}angular.module("app").factory("storage",o)}(),function(){"use strict";function o(){}angular.module("app").factory("logger",o)}(),function(){"use strict";function o(){}angular.module("app").component("component.books",{templateUrl:"views/component.books.html",controller:o,controllerAs:"vm",bindings:{books:"<",pages:"<",term:"<"}})}(),function(){"use strict";function o(){this.getpages=function(o,t){var e=[],n=10+10*Math.floor(o/10);n=n<t?n:t;var r=10*Math.floor(o/10);r=r>0?r-1:1;for(var a=r;a<=n;a++)e.push(a<10?"0"+a:a);return e}}angular.module("app").component("component.pagination",{restrict:"E",templateUrl:"views/component.pagination.html",controller:o,controllerAs:"vm",bindings:{total:"<",current:"<",term:"<"}})}(),function(){"use strict";function o(o,t){var e=this,n="http://it-ebooks-api.info/v1/book/"+t.id;o.get(n).then(function(o){e.book=o.data},function(o){console.log(o)})}angular.module("app").controller("controller.book",o),o.$inject=["$http","$routeParams"]}(),function(){"use strict";function o(o,t,e){var n=this;n.books=[],n.searchTerm=e.title||"javascript";var r=e.page;n.pages={total:0,current:e.page||1,activePages:[]};var a=n.searchTerm,l="http://it-ebooks-api.info/v1/search/"+a;r&&(l=l+"/page/"+r),n.search=function(){"http://it-ebooks-api.info/v1/search/"+n.searchTerm;t.getBooks(n.searchTerm).then(function(o){console.log("response ",o),n.books=o.Books,n.pages.total=Math.floor(o.Total/10)+1,n.pages.current=o.Page,n.pages.time=o.Time})},o.get(l).then(function(o){n.books=o.data.Books,n.pages.total=Math.floor(o.data.Total/10)+1},function(o){console.log(o)}),n.tables=["1","2","3","4","5","6","7","8","9","10"]}angular.module("app").controller("controller.main",o),o.$inject=["$http","dataservice","$routeParams"]}();